%Data is assume to be in YEAR LATITUDE LONGITUDE VALUE format
prcp=load('MONTHLY_PRCP');
tavg=load('MONTHLY_TAVG');

mnpgeo=prcp;
mntgeo=tavg;

%Convert to a projected coordinate system.
mstruct=defaultm('lambert');
mstruct.origin=[CENTER_Y CENTER_X]; %TODO: What does this really do?
mstruct.mapparallels=[LOWER_Y UPPER_Y];
mstruct=defaultm(mstruct);

[mnpgeo(:,2),mnpgeo(:,3)]=mfwdtran(mstruct, mnpgeo(:,2), mnpgeo(:,3));
[mntgeo(:,2),mntgeo(:,3)]=mfwdtran(mstruct, mntgeo(:,2), mntgeo(:,3));
mnpxy=mnpgeo;
mntxy=mntgeo;

%mnpxy=Xll2pl(mnpgeo, 'lambert');
%mntxy=Xll2pl(mntgeo,'lambert');

%Convert to a series of surfaces.
%Here each column is a year, each row a coefficient.
[mnpquad,pyears]=makeSURF(mnpxy);
[mntquad,tyears]=makeSURF(mntxy);

save('SAVE_NAME');
